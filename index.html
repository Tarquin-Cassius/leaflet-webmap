<html>
<head>
  <title>Vässarökarta</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@0.7.3/dist/leaflet.css"/>
                  <script src="https://unpkg.com/leaflet@0.7.3/dist/leaflet.js"></script>
  <style>
    #map{ height: 100%; } /* Kartan fyller hela skärmens höjd */

	/* Style for the menu button */
    .menu-button {
      position: absolute;
      top: 10px;
      left: 10px;
      background: white;
      border: 1px solid #ccc;
      padding: 5px;
      cursor: pointer;
      z-index: 1000;
    }
    /* Style for the menu (toggleable) */
    .menu {
      position: absolute;
      top: 30px;
      left: 10px;
      background: white;
      border: 1px solid #ccc;
      padding: 10px;
      display: none; /* Hidden by default */
      z-index: 1000;
    }
  </style>  
</head>
<body>
<div id="map"></div>
<div class="menu-button" id="menuButton">Menu</div>
  <div class="menu" id="menu">
    <input type="checkbox" id="toggleMarker1" checked> Trapperspårets start<br>
    <input type="checkbox" id="toggleMarker2" checked> Lägerbålsplats<br>
  </div>
<script>
	// Kartans initialkoordinater (Lillgårn)
	var initialCoordinates = [60.25542, 18.69360];
	// Skapar kartan med restriktioner på zoom
	var lfmap = L.map('map', {
		center: initialCoordinates,
		zoom: 15,
		minZoom: 14
	});
	// var lfmap = L.map('map').setView([60.25542, 18.69360], 15);	

	// Lägger till OSM-lager
	L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
	}).addTo(lfmap);

	// Definiera kartans gränser
	var southWest = L.latLng(60.2409, 18.6612); // Lower-left corner of the restricted area
    	var northEast = L.latLng(60.2995, 18.7568); // Upper-right corner of the restricted area
   	var bounds = L.latLngBounds(southWest, northEast);
	lfmap.setMaxBounds(bounds); // Sätt gränser på kartan
    	lfmap.on('drag', function() {
      		lfmap.panInsideBounds(bounds, { animate: false });
    	});
	// https://github.com/lennardv2/Leaflet.awesome-markers
	// Skapa egna pins
	var lbpIcon = L.icon({
      		iconUrl: 'https://i.pinimg.com/originals/45/7c/c0/457cc040ca23e98d84f70d215111255c.png', // URL of the custom marker image
      		iconSize: [32, 32], // Size of the icon (width, height)
     		iconAnchor: [16, 16], // Anchor point (typically the bottom center)
      		popupAnchor: [0, -32] // Position of the pop-up relative to the icon
    	});
	var hikeIcon = L.icon({
		iconUrl: 'https://pluspng.com/img-png/png-hiker-free-png-file-svg-586.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -32]
	});

	// Lägg till kartpins
	var marker1 = L.marker([60.25875, 18.69926]).addTo(lfmap);
   	//var marker1 = L.marker([60.25875, 18.69926], { icon:hikeIcon }).addTo(lfmap);
	marker1.bindPopup("Trapperspårets start");

	var marker2 = L.marker([60.26000, 18.69660]).addTo(lfmap);
	//var marker2 = L.marker([60.26000, 18.69660], { icon:lbpIcon }).addTo(lfmap);
	marker2.bindPopup("Här finns en fin lägerbålsplats").openPopup();;

	// Show/Hide menu on button click
    var menuButton = document.getElementById('menuButton');
    var menu = document.getElementById('menu');
    menuButton.onclick = function() {
      if (menu.style.display === 'none') {
        menu.style.display = 'block';
      } else {
        menu.style.display = 'none';
      }
    };

    // Function to toggle marker visibility based on checkboxes
    var toggleMarker = function(marker, checkboxId) {
      var checkbox = document.getElementById(checkboxId);
      checkbox.onchange = function() {
        if (this.checked) {
          marker.addTo(lfmap); // Show marker
        } else {
          marker.remove(); // Hide marker
        }
      };
    };

    // Set up the toggle functionality for the checkboxes
    toggleMarker(marker1, 'toggleMarker1');
    toggleMarker(marker2, 'toggleMarker2');
</script>
</body>
</html>  
